{"version":3,"sources":["services/persons.js","components/Numbers.jsx","components/AddNumberForm.jsx","components/SearchForm.jsx","components/Notification.jsx","index.jsx"],"names":["baseUrl","axios","get","then","response","data","person","post","put","id","personId","delete","Number","props","name","number","onClick","deleteNumber","Numbers","personsState","persons","setPersons","window","confirm","personsService","filter","p","catch","text","setNotificationMessage","isError","setTimeout","numbers","searchField","length","searchQuery","toLowerCase","includes","filterPeople","map","key","AddNumberForm","newNameState","newName","setNewName","newNumberState","newNumber","setNewNumber","handleNotification","onChange","event","target","value","type","preventDefault","insertedPerson","find","undefined","concat","error","alertString","newPerson","SearchForm","setSearchField","Notification","notificationMessage","style","background","marginBottom","border","borderStyle","borderRadius","fontSize","paddingLeft","paddingTop","paddingBottom","successStyle","borderColor","color","errorStyle","selectedStyle","ReactDOM","render","useState","setPersonsState","useEffect","document","getElementById"],"mappings":"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","file":"static/js/main.0005d717.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getPersons = () => axios.get(baseUrl).then((response) => response.data);\n\nconst addPerson = (person) => axios.post(baseUrl, person).then((response) => response.data);\n\nconst modifyPerson = (person) => axios.put(`${baseUrl}/${person.id}`, person).then((response) => response.data);\n\nconst deletePerson = (personId) => axios.delete(`${baseUrl}/${personId}`);\n\nexport default {\n  getPersons, addPerson, modifyPerson, deletePerson,\n};\n","import React from 'react';\nimport personsService from '../services/persons';\n\nconst Number = (props) => (\n  <>\n    {`${props.person.name} ${props.person.number} `}\n    <button onClick={() => props.deleteNumber(props.person)}>delete</button>\n    <br />\n  </>\n);\n\nconst Numbers = (props) => {\n  const [persons, setPersons] = props.personsState;\n\n  const handleNotification = (isError, text) => {\n    props.setNotificationMessage({ isError: true, text });\n    setTimeout(() => props.setNotificationMessage(null), 3000);\n  };\n\n  const filterPeople = () => {\n    if (props.searchField.length > 0) {\n      const searchQuery = props.searchField.toLowerCase();\n      return persons.filter(\n        (person) => person.name\n          .toLowerCase()\n          .includes(searchQuery),\n      );\n    }\n    return persons;\n  };\n  const deleteNumber = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personsService\n        .deletePerson(person.id)\n        .then(() => setPersons(persons.filter((p) => p.id !== person.id)))\n        .catch(() => handleNotification(true, `Information of ${person.name} has already been removed from server`));\n    }\n  };\n  const numbers = filterPeople()\n    .map((person) => (\n      <Number\n        key={person.name}\n        person={person}\n        deleteNumber={deleteNumber}\n      />\n    ));\n\n  return (\n    <>\n      {numbers}\n    </>\n  );\n};\n\nexport default Numbers;\n","import React from 'react';\nimport personsService from '../services/persons';\n\nconst AddNumberForm = (props) => {\n  const [persons, setPersons] = props.personsState;\n  const [newName, setNewName] = props.newNameState;\n  const [newNumber, setNewNumber] = props.newNumberState;\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n\n  const handleNotification = (isError, text) => {\n    props.setNotificationMessage({ isError, text });\n    setTimeout(() => props.setNotificationMessage(null), 5000);\n  };\n\n  const addNameAndNumber = (event) => {\n    event.preventDefault();\n    const insertedPerson = persons.find((p) => p.name === newName);\n\n    if (insertedPerson === undefined) {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      };\n\n      personsService\n        .addPerson(newPerson)\n        .then((person) => {\n          handleNotification(false, `Added ${person.name}`);\n          return person;\n        })\n        .then((person) => persons.concat(person))\n        .then((persons) => setPersons(persons))\n        .catch((error) => handleNotification(true, error.response.data.error));\n    } else {\n      const alertString = `${newName} is already added to phonebook, replace the old number with a new one?`;\n      if (window.confirm(alertString)) {\n        const newPerson = { ...insertedPerson, number: newNumber };\n\n        personsService\n          .modifyPerson(newPerson)\n          .then((person) => {\n            handleNotification(false, `Modified ${person.name}`);\n            return person;\n          })\n          .then((person) => persons.map((p) => (p.id === person.id ? newPerson : p)))\n          .then((persons) => setPersons(persons))\n          .catch((error) => handleNotification(true, error.response.data.error));\n      }\n    }\n  };\n\n  return (\n    <>\n      <form>\n        <div>\n          name:\n          {' '}\n          <input onChange={handleNameChange} />\n        </div>\n        <div>\n          number:\n          {' '}\n          <input onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\" onClick={addNameAndNumber}>add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default AddNumberForm;\n","import React from 'react';\n\nconst SearchForm = (props) => {\n  const handleSearchFormChange = (event) => props.setSearchField(event.target.value);\n\n  return (\n    <div>\n      filter shown with\n      {' '}\n      <input onChange={handleSearchFormChange} />\n    </div>\n  );\n};\n\nexport default SearchForm;\n","import React from 'react';\n\nconst Notification = (props) => {\n  if (props.notificationMessage === null) return null;\n\n  const style = {\n    background: 'LightGray',\n    marginBottom: '0.5em',\n\n    border: 3,\n    borderStyle: 'solid',\n    borderRadius: 5,\n\n    fontSize: 21,\n    paddingLeft: '0.5em',\n    paddingTop: '0.5em',\n    paddingBottom: '0.5em',\n  };\n\n  const successStyle = {\n    ...style,\n    borderColor: 'green',\n    color: 'green',\n  };\n\n  const errorStyle = {\n    ...style,\n    borderColor: 'red',\n    color: 'red',\n  };\n\n  const selectedStyle = props.notificationMessage.isError ? errorStyle : successStyle;\n  return (\n    <div style={selectedStyle}>\n      {props.notificationMessage.text}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport Numbers from './components/Numbers';\nimport AddNumberForm from './components/AddNumberForm';\nimport SearchForm from './components/SearchForm';\nimport personsService from './services/persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const personsState = useState([]);\n  const newNameState = useState('');\n  const newNumberState = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [searchField, setSearchField] = useState('');\n  const setPersonsState = personsState[1];\n\n  useEffect(() => {\n    personsService.getPersons().then((persons) => setPersonsState(persons));\n  },\n  [setPersonsState]);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notificationMessage={notificationMessage} />\n      <SearchForm setSearchField={setSearchField} />\n\n      <h3>add a new</h3>\n      <AddNumberForm\n        personsState={personsState}\n        newNameState={newNameState}\n        newNumberState={newNumberState}\n        setNotificationMessage={setNotificationMessage}\n      />\n\n      <h3>Numbers</h3>\n      <Numbers\n        personsState={personsState}\n        searchField={searchField}\n        setNotificationMessage={setNotificationMessage}\n      />\n    </div>\n  );\n};\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}